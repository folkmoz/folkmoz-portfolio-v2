import React, { use, useEffect } from "react";
import Link from "next/link";
import { gsap } from "gsap";
import { useGSAP } from "@gsap/react";
import useScreen from "@/app/hooks/useScreen";
import { cn } from "@/lib/utils";
import MagneticButton from "@/app/components/MagneticButton";

const sections = ["home", "works", "about me", "contacts"];

export default function StickyHeader() {
  const headerRef = React.useRef<HTMLDivElement>(null);
  const LogoPathRef = React.useRef<SVGPathElement>(null);
  const navLinksWrapperRef = React.useRef<HTMLDivElement>(null);

  const { screen } = useScreen();

  const isMobile = screen.width < 1024;

  useGSAP(() => {
    const hamburger = headerRef.current!.querySelector("#mobile-menu");

    if (isMobile) {
      gsap.set(hamburger, {
        opacity: 1,
        scale: 1,
      });
      return;
    }

    const tl = gsap.timeline({
      scrollTrigger: {
        trigger: "#introduce",
        start: "top 20%",
        end: "top 30%",
        toggleActions: "play none reverse none",
      },
    });
    const navLinks = navLinksWrapperRef.current!.querySelectorAll("a");
    const lastLinkX = navLinks[navLinks.length - 1].getBoundingClientRect().x;

    navLinks.forEach((link) => {
      const currentX = link.getBoundingClientRect().x;
      const diff = Math.abs(lastLinkX - currentX);

      tl.to(
        link,
        {
          display: "none",
          x: diff,
          opacity: 0,
          duration: 0.5,
          ease: "power4.inOut",
        },
        "<",
      );
    });

    tl.fromTo(
      hamburger,
      {
        opacity: 0,
        scale: 0,
        duration: 0.5,
        ease: "power4.inOut",
      },
      {
        opacity: 1,
        scale: 1,
        ease: "power4.inOut",
      },
      "-=0.2",
    );
  }, [isMobile]);

  useGSAP(() => {
    const trigger = {
      trigger: "#introduce",
      start: "top 80%",
      end: "top center",
      scrub: true,
    };

    gsap.to(headerRef.current, {
      height: "100px",
      ease: "power4.inOut",
      scrollTrigger: trigger,
    });

    const hamburger = headerRef.current!.querySelector("#mobile-menu");
    const headerTL = gsap.timeline({
      scrollTrigger: {
        ...trigger,
        start: "top 10%",
      },
    });
    headerTL
      .to(LogoPathRef.current, {
        fill: "#fff",
        ease: "power4.inOut",
      })
      .to(
        hamburger!.children,
        {
          background: "#fff",
          ease: "power4.inOut",
        },
        "<",
      );
  }, []);

  return (
    <>
      <div
        ref={headerRef}
        className="fixed left-0 right-0 top-0 z-20 h-[150px]"
      >
        <header className="flex h-full w-full items-center justify-between px-4 py-4 lg:px-12">
          <Link href="/" className="font-heading text-xl">
            <svg
              className="size-12"
              width="95"
              height="76"
              viewBox="0 0 95 76"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M9.8416 65.6359C9.29547 62.9052 9.11342 60.1139 9.29547 57.2619C9.53819 54.3492 9.8416 51.4061 10.2057 48.4327C10.6305 45.3986 10.8428 42.3342 10.8428 39.2395C10.8428 37.8438 10.6911 36.9639 10.3877 36.5998C10.0843 36.2357 9.23478 36.1144 7.83911 36.2357C7.71775 36.2964 7.5357 36.3268 7.29298 36.3268C4.62299 36.5088 2.77221 36.5088 1.74062 36.3268C0.769719 36.084 0.223585 35.3862 0.102222 34.2332C0.0415407 33.0803 0.0112001 31.2599 0.0112001 28.7719C0.0112001 27.0121 0.982104 26.0716 2.92391 25.9502C3.65209 25.9502 4.38027 25.9199 5.10844 25.8592C5.83662 25.7985 6.5648 25.8289 7.29298 25.9502C8.50661 26.0716 9.35615 25.8592 9.8416 25.3131C10.3877 24.7063 10.6911 23.8871 10.7518 22.8555C10.8732 21.4598 10.9642 20.0945 11.0249 18.7595C11.1463 17.4245 11.2373 16.0895 11.298 14.7545C11.4193 12.752 11.9048 10.9012 12.7543 9.20214C13.6039 7.50305 14.3017 5.77363 14.8478 4.01387C14.9692 3.46773 15.2726 3.13398 15.758 3.01262C16.2435 2.89126 16.6986 2.80024 17.1234 2.73955C22.8274 1.46525 27.864 2.07206 32.2331 4.56C36.6021 6.98726 39.7576 10.9922 41.6994 16.5749C43.0344 20.3979 41.6994 22.5824 37.6944 23.1285C37.1483 23.1892 36.6021 23.2499 36.056 23.3106C35.5099 23.3106 34.9637 23.3713 34.4176 23.4926C33.9928 23.5533 33.6287 23.705 33.3253 23.9477C33.0219 24.1298 32.9309 24.4939 33.0523 25.04C33.1736 25.5861 33.4164 25.8895 33.7804 25.9502C34.2052 26.0109 34.5996 25.9806 34.9637 25.8592C36.2987 25.3737 37.6034 24.8883 38.8777 24.4028C40.2127 23.8567 41.5173 23.3106 42.7916 22.7644C45.0975 21.7329 46.5236 21.3991 47.0697 21.7632C47.6765 22.0666 48.0103 23.4623 48.0709 25.9502C48.1923 28.5595 48.162 30.38 47.9799 31.4116C47.8585 32.4431 47.3124 33.0196 46.3415 33.141C45.4313 33.2017 43.7625 33.1106 41.3353 32.8679C39.9396 32.6859 38.5439 32.6555 37.1483 32.7769C35.7526 32.8983 34.3569 33.0196 32.9612 33.141C32.1724 33.2017 31.5959 33.3837 31.2318 33.6871C30.8677 33.9905 30.6553 34.567 30.5947 35.4165C30.4126 40.3924 30.0485 45.3683 29.5024 50.3442C28.9563 55.2594 28.6529 60.2353 28.5922 65.2718C28.5922 66.5461 28.2281 67.426 27.4999 67.9115C26.7717 68.4576 25.8615 68.7913 24.7692 68.9127C24.1017 68.9734 23.4646 69.0948 22.8578 69.2768C22.251 69.5195 21.7655 70.005 21.4014 70.7332C21.2194 71.1579 20.916 71.431 20.4912 71.5524C20.1271 71.6737 19.7327 71.7647 19.3079 71.8254C18.8225 71.8861 18.3067 71.9468 17.7605 72.0075C17.2144 72.1288 16.6683 72.2199 16.1221 72.2805C14.059 72.5233 12.5723 72.5839 11.662 72.4626C10.8125 72.3412 10.2967 71.7647 10.1147 70.7332C9.93262 69.7623 9.8416 68.0632 9.8416 65.6359ZM32.4151 17.5762C32.5365 18.2437 32.4758 19.0022 32.2331 19.8517C32.051 20.7013 32.3241 21.3384 33.0523 21.7632C34.0232 22.2487 35.0244 22.4307 36.056 22.3093C37.1483 22.1273 38.1799 21.8239 39.1508 21.3991C40.0003 20.9743 40.3947 20.3675 40.334 19.5787C40.334 18.7898 40.243 18.0313 40.061 17.3031C39.6362 15.7254 38.999 14.269 38.1495 12.934C37.3 11.5991 36.3594 10.3247 35.3278 9.11111C30.716 3.40705 24.8906 1.76865 17.8516 4.19591C16.8807 4.49932 16.2132 5.04545 15.8491 5.83431C15.7277 6.07704 15.6063 6.35011 15.485 6.65351C15.3636 6.89624 15.3333 7.13896 15.394 7.38169C15.5153 7.80646 15.7277 7.98851 16.0311 7.92782C16.3952 7.86714 16.7289 7.8368 17.0324 7.8368C18.246 7.65476 19.4293 7.62442 20.5822 7.74578C21.7352 7.80646 22.8881 7.92782 24.0411 8.10987C26.8931 8.53464 29.0776 9.41452 30.5947 10.7495C32.1117 12.0238 32.7185 14.2994 32.4151 17.5762ZM19.854 9.29316C19.0652 9.29316 18.2763 9.29316 17.4875 9.29316C16.7593 9.23248 16.0311 9.23248 15.3029 9.29316C14.5141 9.35384 13.9983 9.65724 13.7556 10.2034C13.5128 10.6888 13.4218 11.2653 13.4825 11.9328C13.6039 12.6003 13.8769 12.9037 14.3017 12.843C14.7871 12.7823 15.2423 12.7217 15.667 12.661C17.7302 12.3576 19.763 12.2362 21.7655 12.2969C23.768 12.2969 25.8008 12.4183 27.864 12.661C28.1674 12.7217 28.4708 12.8127 28.7742 12.934C29.1383 12.9947 29.381 12.8127 29.5024 12.3879C29.6238 12.0238 29.5327 11.7508 29.2293 11.5687C28.9866 11.326 28.7439 11.1136 28.5012 10.9316C27.1662 10.082 25.7705 9.56622 24.3141 9.38418C22.8578 9.20214 21.3711 9.1718 19.854 9.29316ZM11.2069 60.5387V67.2743C11.2069 68.6093 11.2676 69.5499 11.389 70.096C11.5103 70.7028 11.8441 71.0366 12.3902 71.0972C12.997 71.1579 13.9679 71.1579 15.3029 71.0972C17.1234 70.9759 18.3977 70.7938 19.1259 70.5511C19.854 70.3084 20.2181 69.7926 20.2181 69.0037C20.2788 68.2149 20.1271 66.9406 19.763 65.1808C19.3383 62.7535 18.8528 60.3566 18.3067 57.99C17.8212 55.5628 17.7302 53.1052 18.0336 50.6172C18.337 48.2507 18.5797 45.8841 18.7618 43.5175C18.9438 41.0903 19.2776 38.6933 19.763 36.3268C20.2485 33.7781 21.007 32.1094 22.0386 31.3205C23.1308 30.471 24.9816 30.2586 27.5909 30.6834C28.8046 30.8654 29.6541 30.7441 30.1396 30.3193C30.6857 29.8945 30.9891 29.1057 31.0498 27.9527C31.1711 26.1323 31.1105 24.3422 30.8677 22.5824C30.6857 20.762 30.6857 18.9415 30.8677 17.1211C31.0498 15.5433 30.2913 14.5724 28.5922 14.2084C24.5872 13.4802 20.6126 13.4195 16.6683 14.0263C15.394 14.2084 14.4231 14.7241 13.7556 15.5737C13.1487 16.3625 12.7847 17.3941 12.6633 18.6684C12.6026 19.6393 12.5116 20.6103 12.3902 21.5812C12.3295 22.4914 12.2689 23.4319 12.2082 24.4028C12.1475 25.3737 11.8441 26.1323 11.298 26.6784C10.7518 27.2245 9.93262 27.4369 8.84036 27.3156C8.41559 27.2549 7.99081 27.2549 7.56604 27.3156C7.20196 27.3156 6.80753 27.3156 6.38276 27.3156C4.01618 27.3156 2.55982 27.619 2.01369 28.2258C1.46756 28.8326 1.22483 30.2889 1.28551 32.5948C1.34619 33.5657 1.55858 34.2636 1.92267 34.6884C2.28676 35.1131 2.92391 35.2952 3.83413 35.2345C4.62299 35.1131 5.38151 35.0221 6.10969 34.9614C6.89855 34.9007 7.68741 34.8704 8.47627 34.8704C10.2967 34.749 11.4193 34.9918 11.8441 35.5986C12.3295 36.1447 12.5419 37.328 12.4812 39.1484C12.3599 42.7287 12.0565 46.3089 11.571 49.8891C11.0856 53.4086 10.9642 56.9585 11.2069 60.5387ZM34.3266 31.4116C35.7223 31.5936 36.8145 31.4722 37.6034 31.0475C38.3922 30.6227 38.7867 29.7428 38.7867 28.4078C38.7867 27.619 38.9991 27.0728 39.4238 26.7694C39.9093 26.466 40.4554 26.284 41.0622 26.2233C41.669 26.1019 42.2455 26.0109 42.7916 25.9502C43.3985 25.8895 44.0053 25.8289 44.6121 25.7682C45.0975 25.6468 45.492 25.4648 45.7954 25.222C46.1595 24.9793 46.2808 24.5849 46.1595 24.0388C45.9774 23.3106 45.6437 23.0375 45.1582 23.2196C44.7334 23.3409 44.339 23.4926 43.9749 23.6747C42.3365 24.3422 40.6981 25.04 39.0597 25.7682C37.482 26.4357 35.8436 27.0121 34.1445 27.4976C33.3557 27.6796 32.8399 28.0437 32.5972 28.5899C32.3544 29.136 32.2634 29.7428 32.3241 30.4103C32.3848 31.2599 32.6882 31.6239 33.2343 31.5026C33.7804 31.3812 34.1445 31.3509 34.3266 31.4116ZM43.5198 31.5936C44.3694 31.5329 45.1279 31.4722 45.7954 31.4116C46.5236 31.2902 46.8573 30.6227 46.7966 29.4091C46.7966 27.71 46.0078 27.0121 44.43 27.3156C43.6412 27.3762 42.822 27.4673 41.9724 27.5886C41.1229 27.6493 40.6678 28.2865 40.6071 29.5001C40.5464 30.5317 40.8498 31.1081 41.5173 31.2295C42.2455 31.3509 42.913 31.4722 43.5198 31.5936ZM28.8652 38.4203C28.8652 37.8135 28.8652 37.328 28.8652 36.9639C28.9259 36.5391 28.9259 36.1447 28.8652 35.7806C28.8046 35.0524 28.7742 34.2939 28.7742 33.5051C28.8349 32.6555 28.2281 32.2004 26.9538 32.1397C25.8008 32.0184 24.7389 32.0791 23.768 32.3218C22.7971 32.5645 22.1599 33.414 21.8565 34.8704C20.8249 39.907 20.1575 44.9739 19.854 50.0711C19.5506 55.1077 20.0664 60.1746 21.4014 65.2718C21.8262 66.8495 22.8578 67.5474 24.4962 67.3653C26.3773 67.244 27.2875 66.3944 27.2268 64.8167C27.1055 60.3263 27.3179 55.8662 27.864 51.4364C28.4101 47.0067 28.7439 42.668 28.8652 38.4203ZM52.7344 46.4302C52.4917 49.8284 52.0669 53.2265 51.4601 56.6247C50.914 59.9622 50.5499 63.33 50.3678 66.7282C50.3071 68.7913 49.4879 70.3691 47.9102 71.4613C47 72.1288 46.0898 72.7963 45.1796 73.4638C44.2693 74.192 43.2681 74.7078 42.1758 75.0112C41.387 75.1932 40.7802 75.1629 40.3554 74.9202C39.9913 74.6775 39.6575 74.101 39.3541 73.1908C39.0507 71.9771 38.9597 70.7332 39.0811 69.4588C39.4452 66.5461 39.7182 63.6031 39.9003 60.6297C40.0823 57.6563 40.2644 54.6829 40.4464 51.7095C40.6284 48.8575 40.6891 46.0055 40.6284 43.1534C40.6284 40.2407 40.4161 37.3887 39.9913 34.5973C39.7486 32.7769 39.7182 31.0171 39.9003 29.318C40.0823 27.5583 40.4161 25.8289 40.9015 24.1298C41.0836 23.523 41.4476 23.2196 41.9938 23.2196C42.4186 23.2802 42.813 23.3409 43.1771 23.4016C43.6018 23.4016 43.9963 23.4623 44.3604 23.5836C45.2099 23.8871 46.0291 23.9477 46.818 23.7657C47.6675 23.5836 48.4867 23.4623 49.2756 23.4016C49.8824 23.2802 50.2768 22.7948 50.4588 21.9452C50.5802 21.2777 50.7016 20.6103 50.8229 19.9428C51.005 19.2753 51.1263 18.6078 51.187 17.9403C51.3084 16.9087 51.7938 16.3625 52.6434 16.3019C54.7672 16.0591 56.8911 15.9985 59.0149 16.1198C61.1995 16.2412 63.3233 16.4839 65.3865 16.848C66.1147 16.9694 66.6001 17.3335 66.8428 17.9403C67.3283 18.8505 68.0261 19.0629 68.9364 18.5774C69.4218 18.274 69.9376 18.0009 70.4837 17.7582C71.0299 17.5155 71.5457 17.2121 72.0311 16.848C73.4268 15.9378 74.8528 15.3613 76.3092 15.1186C77.7655 14.8759 79.2522 14.8455 80.7692 15.0276C82.5897 15.2703 84.046 16.0591 85.1383 17.3941C86.2913 18.6684 87.2622 20.1551 88.051 21.8542C89.204 24.2815 90.1142 26.8301 90.7817 29.5001C91.4492 32.1094 91.9346 34.8401 92.238 37.6921C92.5415 39.9373 92.8145 42.2129 93.0572 44.5188C93.3607 46.8247 93.573 49.1305 93.6944 51.4364C93.8158 53.4389 93.9068 55.4718 93.9675 57.5349C94.0888 59.5374 94.2709 61.5399 94.5136 63.5424C94.635 64.2706 94.726 64.9988 94.7867 65.7269C94.908 66.4551 94.908 67.2136 94.7867 68.0025C94.7867 68.7307 94.5439 69.0644 94.0585 69.0037C92.8449 68.761 91.6616 68.9127 90.5086 69.4588C89.4164 70.005 88.2938 70.4297 87.1408 70.7332C86.716 70.8545 86.2913 70.9759 85.8665 71.0972C85.5024 71.2793 85.108 71.4007 84.6832 71.4613C83.773 71.5827 83.3482 71.1276 83.4089 70.096C83.7123 67.244 83.7123 64.3919 83.4089 61.5399C83.1662 58.6879 82.8324 55.8662 82.4076 53.0748C82.1649 51.3151 81.8919 49.5857 81.5884 47.8866C81.285 46.1875 80.8906 44.4884 80.4052 42.7893C79.9804 41.2116 79.1915 39.998 78.0386 39.1484C76.9463 38.2989 75.7023 37.9955 74.3067 38.2382C73.093 38.4203 72.7593 39.1484 73.3054 40.4228C73.9729 42.1218 74.5191 43.8816 74.9438 45.702C75.4293 47.4618 75.854 49.2519 76.2181 51.0724C76.7036 53.8637 77.189 56.6551 77.6745 59.4464C78.1599 62.1771 78.7061 64.8774 79.3129 67.5474C79.5556 68.5183 79.2522 69.1858 78.4027 69.5499C77.9779 69.6712 77.5835 69.8533 77.2194 70.096C76.1878 71.0669 75.0652 71.7041 73.8516 72.0075C72.6379 72.3716 71.4546 72.7963 70.3017 73.2818C69.7556 73.5245 69.3611 73.4638 69.1184 73.0997C68.9364 72.7963 68.815 72.4019 68.7543 71.9164C68.5116 69.4285 68.3295 66.9709 68.2082 64.5436C68.0868 61.1455 67.8138 57.7777 67.389 54.4402C66.9642 51.042 66.2967 47.7349 65.3865 44.5188C65.3865 44.4581 65.3258 44.2457 65.2044 43.8816C65.1438 43.5782 65.0224 43.2748 64.8404 42.9714C64.6583 42.668 64.4156 42.5466 64.1122 42.6073C63.6874 42.668 63.475 42.9107 63.475 43.3355C63.5357 43.6996 63.566 44.0333 63.566 44.3367C63.3233 48.1596 63.3233 51.9522 63.566 55.7145C63.8088 59.4767 64.1425 63.239 64.5673 67.0012C64.5673 67.1833 64.5673 67.3653 64.5673 67.5474C64.5673 67.7901 64.5976 68.0025 64.6583 68.1845C65.0224 69.5195 64.5673 70.4297 63.293 70.9152C62.6255 71.0972 61.9276 71.2793 61.1995 71.4613C60.532 71.7041 59.8645 71.9468 59.197 72.1895C58.7115 72.3109 58.1957 72.4626 57.6496 72.6446C57.1642 72.8267 56.6787 73.0087 56.1932 73.1908C55.2223 73.4942 54.7976 73.0694 54.9189 71.9164C55.1617 68.1542 55.01 64.4526 54.4638 60.8117C53.9177 57.1708 53.4626 53.4996 53.0985 49.798C53.0378 49.2519 53.0075 48.7058 53.0075 48.1596C53.0682 47.5528 52.9771 46.9764 52.7344 46.4302ZM79.768 15.7557C78.5544 15.6951 77.3407 15.7861 76.1271 16.0288C74.9135 16.2108 73.6999 16.7266 72.4862 17.5762C71.9401 17.9403 71.3636 18.274 70.7568 18.5774C70.2107 18.8201 69.6645 19.0629 69.1184 19.3056C68.5116 19.5483 68.1475 19.8821 68.0261 20.3068C67.9048 20.6709 67.9048 21.1867 68.0261 21.8542C68.3295 23.0072 68.8453 23.9477 69.5735 24.6759C70.3624 25.4041 71.0602 26.1929 71.667 27.0425C72.2132 27.8313 72.6683 27.71 73.0324 26.6784C73.3358 25.8289 73.6695 24.949 74.0336 24.0388C74.4584 23.1285 74.8528 22.2487 75.2169 21.3991C76.0664 19.5787 77.0677 18.5471 78.2206 18.3044C79.3736 18.0616 80.5265 18.7291 81.6795 20.3068C83.1358 22.37 84.3495 24.5545 85.3204 26.8604C86.3519 29.1663 86.9891 31.6846 87.2318 34.4153C87.3532 35.5682 87.4745 36.7212 87.5959 37.8741C87.7173 38.9664 87.869 40.089 88.051 41.242C88.5365 44.2153 88.9916 47.1887 89.4164 50.1621C89.8411 53.0748 90.1749 56.0482 90.4176 59.0823C90.539 60.3566 90.63 61.6309 90.6907 62.9052C90.812 64.1189 91.0548 65.3325 91.4188 66.5461C91.7223 67.6991 92.3291 68.1542 93.2393 67.9115C93.7247 67.7901 93.9675 67.517 93.9675 67.0923C94.0282 66.7282 94.0282 66.3641 93.9675 66C93.8461 64.8471 93.6944 63.6941 93.5124 62.5412C93.3303 61.3882 93.2089 60.2353 93.1483 59.0823C93.0876 55.5628 92.9359 52.0736 92.6932 48.6148C92.4504 45.0952 92.0863 41.6364 91.6009 38.2382C91.2368 35.3862 90.6907 32.5948 89.9625 29.8642C89.295 27.1335 88.3544 24.5242 87.1408 22.0363C86.3519 20.3979 85.381 18.9415 84.2281 17.6672C83.1358 16.3929 81.6491 15.7557 79.768 15.7557ZM60.3803 17.03C59.2273 16.9087 58.0744 16.848 56.9214 16.848C55.7685 16.848 54.5852 16.9087 53.3716 17.03C52.5827 17.0907 52.1579 17.5458 52.0972 18.3954C52.0366 19.1236 51.9455 19.8517 51.8242 20.5799C51.7635 21.2474 51.6421 21.9149 51.4601 22.5824C51.2174 23.3106 51.3994 23.796 52.0062 24.0388C52.8558 24.4028 53.7053 24.7669 54.5548 25.131C55.4651 25.4344 56.3753 25.7075 57.2855 25.9502C57.4676 26.0109 57.6496 26.0412 57.8316 26.0412C58.0744 26.0412 58.3171 25.9502 58.5598 25.7682C59.6521 24.7366 60.8354 23.8567 62.1097 23.1285C63.384 22.3397 64.628 21.5508 65.8416 20.762C66.5091 20.3372 66.6305 19.6697 66.2057 18.7595C65.8416 18.092 65.2955 17.6975 64.5673 17.5762C63.8998 17.4548 63.202 17.3638 62.4738 17.3031C61.7456 17.1818 61.0478 17.0907 60.3803 17.03ZM59.197 46.5212C59.4397 43.9726 60.0769 42.3342 61.1084 41.606C62.14 40.8172 63.3537 40.9082 64.7493 41.8791C65.1741 42.1218 65.5079 42.4859 65.7506 42.9714C65.9933 43.3961 66.1754 43.8513 66.2967 44.3367C67.2069 47.6135 67.8744 50.951 68.2992 54.3492C68.7847 57.7473 69.0577 61.1758 69.1184 64.6347C69.1791 65.6663 69.2398 66.6978 69.3004 67.7294C69.3611 68.8217 69.4218 69.914 69.4825 71.0062C69.4825 71.2489 69.5128 71.522 69.5735 71.8254C69.6949 72.1895 69.9376 72.2805 70.3017 72.0985C70.7871 71.9164 71.3029 71.7647 71.8491 71.6434C72.4559 71.522 72.9413 71.2489 73.3054 70.8242C73.6088 70.3994 73.6695 69.914 73.4875 69.3678C73.3661 68.8824 73.3054 68.4273 73.3054 68.0025C73.3054 67.6991 73.2751 67.3653 73.2144 67.0012C73.2144 66.6978 73.2144 66.3944 73.2144 66.091C72.9717 62.6929 72.6379 59.325 72.2132 55.9876C71.7884 52.5894 71.3333 49.2216 70.8478 45.8841C70.7871 45.2166 70.7265 44.5491 70.6658 43.8816C70.6051 43.2141 70.5141 42.5769 70.3927 41.9701C70.0893 40.8779 70.3624 39.9373 71.2119 39.1484C72.4862 37.8741 73.7909 37.2673 75.1259 37.328C76.5215 37.3887 77.7655 37.9045 78.8578 38.8754C79.95 39.7856 80.7086 40.9689 81.1333 42.4252C81.4974 43.6996 81.7705 45.0042 81.9525 46.3392C82.1953 47.6742 82.438 49.0395 82.6807 50.4352C82.9841 52.0129 83.2268 53.621 83.4089 55.2594C83.5909 56.8371 83.8033 58.4452 84.046 60.0836C84.2281 61.6006 84.3191 63.1176 84.3191 64.6347C84.3191 66.091 84.3191 67.6081 84.3191 69.1858C84.3191 70.3387 84.7439 70.7332 85.5934 70.3691C86.0182 70.2477 86.4126 70.096 86.7767 69.914C87.2015 69.7319 87.6263 69.5499 88.051 69.3678C89.2647 68.8824 89.9321 68.4879 90.0535 68.1845C90.2356 67.8811 90.2356 67.0012 90.0535 65.5449C89.8715 64.0279 89.7198 62.4805 89.5984 60.9028C89.477 59.325 89.3557 57.7777 89.2343 56.2606C88.9916 52.6804 88.5365 49.1305 87.869 45.611C87.2015 42.0915 86.6857 38.572 86.3216 35.0524C86.0789 32.3218 85.4417 29.8035 84.4101 27.4976C83.4392 25.131 82.2559 22.9161 80.8603 20.853C79.1612 18.3044 77.6138 18.5167 76.2181 21.4901C75.854 22.279 75.5203 23.0679 75.2169 23.8567C74.9135 24.6456 74.5494 25.4344 74.1246 26.2233C73.8819 26.7694 73.7302 27.4066 73.6695 28.1348C73.6695 28.8023 73.3661 29.1967 72.7593 29.318C72.2738 29.3787 71.8491 29.136 71.485 28.5899C71.1816 28.0437 70.8478 27.5886 70.4837 27.2245C69.8162 26.4964 69.1184 25.7682 68.3902 25.04C67.7227 24.2511 67.2373 23.2802 66.9339 22.1273C66.7518 21.4598 66.3877 21.3384 65.8416 21.7632C64.9314 22.37 64.0212 22.9465 63.1109 23.4926C62.2007 24.0388 61.3208 24.7063 60.4713 25.4951C59.1363 26.6481 57.6496 26.9515 56.0112 26.4053C55.283 26.1019 54.5548 25.8289 53.8267 25.5861C53.0985 25.2827 52.3703 25.0097 51.6421 24.7669C50.914 24.4635 50.2465 24.3118 49.6396 24.3118C49.2149 24.2511 48.7294 24.2208 48.1833 24.2208C47.6978 24.2208 47.3034 24.4635 47 24.949C46.7573 25.3737 46.7573 25.8289 47 26.3143C47.3034 26.7998 47.5765 27.2549 47.8192 27.6796C48.8508 29.6215 49.7307 31.6543 50.4588 33.7781C51.2477 35.902 51.8242 38.1169 52.1883 40.4228C52.249 40.6655 52.3096 40.9385 52.3703 41.242C52.431 41.4847 52.4917 41.6971 52.5524 41.8791C53.0378 42.4859 53.3412 43.1838 53.4626 43.9726C53.6446 44.7008 53.766 45.4897 53.8267 46.3392C53.8874 47.4921 53.948 48.6451 54.0087 49.798C54.0694 50.8903 54.1604 52.0129 54.2818 53.1659C54.7066 56.1393 55.101 59.1127 55.4651 62.086C55.8292 65.0594 55.9505 68.0632 55.8292 71.0972C55.7078 72.0075 56.0112 72.2805 56.7394 71.9164C57.0428 71.7951 57.3765 71.6737 57.7406 71.5524C58.1047 71.431 58.4385 71.34 58.7419 71.2793C60.0769 71.0366 60.7444 70.1263 60.7444 68.5486C60.7444 66.6068 60.6837 64.665 60.5623 62.7232C60.441 60.7207 60.3196 58.7182 60.1982 56.7157C60.0769 54.8346 59.8645 53.0142 59.5611 51.2544C59.2577 49.434 59.1363 47.8562 59.197 46.5212ZM42.813 24.0388C42.2062 23.9781 41.7511 24.1601 41.4476 24.5849C41.2049 24.949 41.0532 25.8895 40.9925 27.4066C40.9925 28.0134 41.1139 28.4078 41.3566 28.5899C41.66 28.7112 42.0241 28.7416 42.4489 28.6809C42.8737 28.6202 43.2378 28.6809 43.5412 28.8629C43.9659 29.045 44.33 28.8629 44.6334 28.3168C44.9368 27.7707 45.1189 27.0121 45.1796 26.0412C45.3009 25.3131 45.2099 24.8276 44.9065 24.5849C44.6031 24.3422 43.9052 24.1601 42.813 24.0388ZM46.1808 71.3703C47.2124 70.8242 48.0316 70.1263 48.6384 69.2768C49.3059 68.4879 49.67 67.3957 49.7307 66C49.852 64.2402 50.0037 62.4805 50.1858 60.7207C50.4285 58.9003 50.6712 57.1102 50.914 55.3504C51.4601 51.6488 51.7332 48.0079 51.7332 44.4277C51.7332 40.7868 51.096 37.237 49.8217 33.7781C49.3969 32.6859 48.9115 31.6239 48.3653 30.5924C47.8799 29.5001 47.3944 28.4382 46.909 27.4066C46.8483 27.1639 46.7269 26.9515 46.5449 26.7694C46.3628 26.5874 46.1505 26.7391 45.9077 27.2245C45.665 27.7707 45.4223 28.3471 45.1796 28.954C44.9975 29.5608 45.0279 30.1979 45.2706 30.8654C45.574 32.0184 45.756 33.2017 45.8167 34.4153C46.1808 38.2989 46.4842 42.2129 46.7269 46.1572C47.0303 50.1015 47.091 54.0761 46.909 58.0811C46.7876 60.3263 46.6663 62.5412 46.5449 64.7257C46.4235 66.8495 46.3022 69.0644 46.1808 71.3703ZM45.6347 67.9115C45.6347 67.5474 45.6347 67.0923 45.6347 66.5461C45.6347 66.0607 45.665 65.5752 45.7257 65.0898C46.0898 60.2353 46.2415 55.3807 46.1808 50.5262C46.1201 45.611 45.8167 40.7565 45.2706 35.9627C45.2099 35.0524 45.1189 34.1422 44.9975 33.232C44.9368 32.3218 44.7548 31.4419 44.4514 30.5924C44.2693 30.1069 43.8446 29.7125 43.1771 29.4091C42.5703 29.1057 41.9634 29.0753 41.3566 29.318C40.8105 29.5001 40.5374 29.8338 40.5374 30.3193C40.5981 30.7441 40.6284 31.1688 40.6284 31.5936C40.7498 32.7465 40.8712 33.8692 40.9925 34.9614C41.1139 36.0537 41.2049 37.1763 41.2656 38.3292C41.387 40.3924 41.4476 42.5163 41.4476 44.7008C41.5083 46.8247 41.4476 48.9485 41.2656 51.0724C41.0229 53.8637 40.8712 56.6551 40.8105 59.4464C40.7498 62.1771 40.4767 64.8774 39.9913 67.5474C39.6879 69.4285 39.7182 71.2489 40.0823 73.0087C40.2037 73.3121 40.325 73.5852 40.4464 73.8279C40.5678 74.1313 40.8105 74.283 41.1746 74.283C43.7232 74.101 45.1796 72.5233 45.5436 69.5499C45.5436 69.3071 45.5436 69.0644 45.5436 68.8217C45.5436 68.6396 45.574 68.3362 45.6347 67.9115ZM71.1209 41.424C71.2423 42.6376 71.3333 43.9119 71.394 45.2469C71.4546 46.5212 71.6063 47.7956 71.8491 49.0699C72.2132 50.7689 72.5166 52.4984 72.7593 54.2581C73.002 55.9572 73.1841 57.6866 73.3054 59.4464C73.4268 60.9634 73.5482 62.5108 73.6695 64.0885C73.8516 65.6056 74.0033 67.1226 74.1246 68.6396C74.1853 68.9431 74.2156 69.2465 74.2156 69.5499C74.2763 69.914 74.428 70.1567 74.6708 70.278C74.7921 70.3387 75.1562 70.2174 75.763 69.914C76.3698 69.6105 76.9767 69.2465 77.5835 68.8217C78.1903 68.3969 78.4937 68.1239 78.4937 68.0025C78.4937 67.8811 78.4937 67.6991 78.4937 67.4564C78.4937 67.2743 78.4634 67.1226 78.4027 67.0012C78.342 66.5158 78.251 66.0607 78.1296 65.6359C78.0082 65.1505 77.8869 64.665 77.7655 64.1796C77.3407 60.9634 76.7946 57.7777 76.1271 54.6222C75.4596 51.4668 74.7921 48.3113 74.1246 45.1559C73.9426 44.3671 73.7302 43.6085 73.4875 42.8804C73.2447 42.1522 72.9717 41.4847 72.6683 40.8779C72.6076 40.6958 72.4862 40.5138 72.3042 40.3317C72.1828 40.089 72.0008 40.0283 71.758 40.1497C71.4546 40.2711 71.2423 40.6958 71.1209 41.424ZM60.1982 45.8841C60.1982 46.1268 60.1679 46.4302 60.1072 46.7943C60.1072 47.1584 60.1375 47.5528 60.1982 47.9776C60.5016 51.4971 60.805 55.047 61.1084 58.6272C61.4725 62.1467 61.6242 65.6966 61.5636 69.2768C61.5636 69.4588 61.5636 69.6409 61.5636 69.8229C61.5636 70.005 61.6849 70.1567 61.9276 70.278C62.4131 70.4601 62.8985 70.3084 63.384 69.8229C63.8695 69.3375 64.0515 68.7913 63.9301 68.1845C63.8088 67.1529 63.6571 66.1214 63.475 65.0898C63.3537 64.0582 63.2626 62.9963 63.202 61.904C63.0199 58.8699 62.8379 55.8359 62.6558 52.8018C62.4738 49.7677 62.4738 46.7033 62.6558 43.6085C62.7772 42.8197 62.5648 42.3342 62.0187 42.1522C61.7153 42.0915 61.4422 42.1522 61.1995 42.3342C61.0174 42.5163 60.8354 42.759 60.6533 43.0624C60.4713 43.4265 60.3499 43.8513 60.2892 44.3367C60.2892 44.7615 60.2589 45.2773 60.1982 45.8841Z"
                fill="black"
                ref={LogoPathRef}
              />
            </svg>
          </Link>
          <div className="relative flex h-full w-full items-center justify-end">
            <div
              ref={navLinksWrapperRef}
              className="relative z-10 hidden font-body font-bold lg:flex"
            >
              {sections.map((section) => (
                <Link key={section + "-link"} href={`#${section}`} className="">
                  <MagneticButton>
                    <div className="px-4 py-2 text-2xl decoration-wavy hover:underline xl:text-2xl">
                      {section}
                    </div>
                  </MagneticButton>
                </Link>
              ))}
            </div>

            <div className="absolute inset-0 flex items-center justify-end">
              <MenuMobile />
            </div>
          </div>
        </header>
      </div>
    </>
  );
}

const MenuMobile = () => {
  return (
    <MagneticButton>
      <div
        id="mobile-menu"
        className="cursor-pointer space-y-1 p-4 lg:opacity-0"
      >
        <Line width={"w-8"} />
        <Line width={"w-10"} />
        <Line width={"w-6"} />
      </div>
    </MagneticButton>
  );
};

const Line = ({ width }: { width: string }) => {
  return (
    <div
      className={cn("h-1 rounded-full bg-foreground xl:bg-white", width)}
    ></div>
  );
};
